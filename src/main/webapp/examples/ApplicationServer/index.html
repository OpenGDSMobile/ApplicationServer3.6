<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>어플리케이션 서버 예제</title>
<link rel="stylesheet" href="../../css/bootstrap/bootstrap.min.css">
<link rel="stylesheet" href="../highlight/styles/atelier-lakeside-light.css">
<link rel="stylesheet" href="index.css">

<script src="../highlight/highlight.pack.js"></script>
<script src="../../js/egovframework/mbl/cmm/jquery-1.11.2.js"></script>
<script src="../../js/egovframework/mbl/cmm/modernizr-2.0.4.js"></script>
<script src="../../js/bootstrap/bootstrap.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
			<a class="navbar-brand" href="#">Application Server Examples</a>
		</div>
		
		<ul class="nav navbar-nav">
			<li><a href="#first">[1]</a></li>
			<li><a href="#second">[2]</a></li>
			<li><a href="#third">[3]</a></li> 
			<li><a href="#fourth">[4]</a></li> 
			<li><a href="#fifth">[5]</a></li> 
			<li><a href="#sixth">[6]</a></li>
		</ul>
	  </div>
	</nav>


	<div style="margin-top:5em;" id="first">
		<h1>1. 속성정보 테이블 (POST/GET)</h1>
		<div role="tabpanel">
		  <!-- Nav tabs -->
		  <ul class="nav nav-tabs" role="tablist">
		    <li role="presentation" class="active"><a href="#attrPostRequest" aria-controls="attrPostRequest" role="tab" data-toggle="tab">요청 소스코드</a></li>
		    <li role="presentation"><a href="#attrResult" aria-controls="attrResult" role="tab" data-toggle="tab">실행 결과</a></li>
		  </ul>
		
		  <!-- Tab panes -->
		  <div class="tab-content">
		    <div role="tabpanel" class="tab-pane active" id="attrPostRequest">
		    	<pre><code class="js">
	var parm = {};
	parm.tableName = 'seoul_sig';
	$.ajax({
		type: 'POST',	//or 'GET'
		url : './api/getAttrTable.do',
		data: JSON.stringify(parm);
		dataType: 'json',
		success: function (msg) {
			...
		},
		error : function (err) {
			...
		}
	});	
		    	</code></pre>
		    </div>
		    <div role="tabpanel" class="tab-pane" id="attrResult">
		    	<pre><code class="json">
	[{
		"result":"OK",
		"message":null,
		data:{"row":
				[
					{"PM10":100,"MSRSTE_NM":"강남구"}, 	{"PM10":82,"MSRSTE_NM":"강동구"},
					{"PM10":79,"MSRSTE_NM":"강북구"},		{"PM10":100,"MSRSTE_NM":"강서구"},
					{"PM10":103,"MSRSTE_NM":"관악구"},		{"PM10":98,"MSRSTE_NM":"광진구"},
					{"PM10":87,"MSRSTE_NM":"구로구"},		{"PM10":96,"MSRSTE_NM":"금천구"},
					{"PM10":76,"MSRSTE_NM":"노원구"},		{"PM10":71,"MSRSTE_NM":"도봉구"},
					{"PM10":99,"MSRSTE_NM":"동대문구"},	{"PM10":77,"MSRSTE_NM":"동작구"},
					{"PM10":78,"MSRSTE_NM":"마포구"},		{"PM10":83,"MSRSTE_NM":"서대문구"},
					{"PM10":106,"MSRSTE_NM":"서초구"},		{"PM10":102,"MSRSTE_NM":"성동구"},
					{"PM10":81,"MSRSTE_NM":"성북구"},		{"PM10":86,"MSRSTE_NM":"송파구"},
					{"PM10":119,"MSRSTE_NM":"양천구"},		{"PM10":110,"MSRSTE_NM":"영등포구"},
					{"PM10":71,"MSRSTE_NM":"용산구"},		{"PM10":65,"MSRSTE_NM":"은평구"},
					{"PM10":84,"MSRSTE_NM":"종로구"},		{"PM10":77,"MSRSTE_NM":"중구"},
					{"PM10":80,"MSRSTE_NM":"중랑구"}
				]
		}
	}]
		    	</code></pre>
		    </div>
		  </div>
		</div>
	</div>
	<br>
	<div id="second">
		<h1>2. GeoServer - Workspace 생성(GET)</h1>
		<div role="tabpanel">
		  <!-- Nav tabs -->
		  <ul class="nav nav-tabs" role="tablist">
		    <li role="presentation" class="active"><a href="#geoServerGetRequest" aria-controls="geoServerGetRequest" role="tab" data-toggle="tab">요청 소스코드(GET)</a></li>
		    <li role="presentation"><a href="#geoServerResult" aria-controls="geoServerResult" role="tab" data-toggle="tab">실행 결과</a></li>
		  </ul>
		
		  <!-- Tab panes -->
		  <div class="tab-content">
		    <div role="tabpanel" class="tab-pane active" id="geoServerGetRequest">
		    	<pre><code class="js">
	var parm = {};
	parm.wsName = 'OpenGDSMobile';
	$.ajax({
		type: 'GET',	
		url : './api/createWorkspace.do',
		data: JSON.stringify(parm);
		dataType: 'json',
		success: function (msg) {
			...
		},
		error : function (err) {
			...
		}
	});
		    	</code></pre>
		    </div>
		    <div role="tabpanel" class="tab-pane" id="geoServerResult">
		    	<pre><code class="json">
[{"result":"OK", "message":null, data:true}]
		    	
		    	</code></pre>
		    </div>
		  </div>
		</div>
	</div>
	<br>
	<div id="third">
		<h1>3. GeoServer - 모든 레이어 목록 받기(GET)</h1>
		<div role="tabpanel">
		  <!-- Nav tabs -->
		  <ul class="nav nav-tabs" role="tablist">
		    <li role="presentation" class="active"><a href="#geoServerLayerGetRequest" aria-controls="geoServerLayerGetRequest" role="tab" data-toggle="tab">요청 소스코드(GET)</a></li>
		    <li role="presentation"><a href="#geoServeLayerrResult" aria-controls="geoServeLayerrResult" role="tab" data-toggle="tab">실행 결과</a></li>
		  </ul>
		
		  <!-- Tab panes -->
		  <div class="tab-content">
		    <div role="tabpanel" class="tab-pane active" id="geoServerLayerGetRequest">
		    	<pre><code class="js">
	var parm = {};
	parm.wsName = 'OpenGDSMobile';
	$.ajax({
		type: 'POST',	
		url : './api/getLayerNames.do',
		data: JSON.stringify(parm);
		dataType: 'json',
		success: function (msg) {
			...
		},
		error : function (err) {
			...
		}
	});
		    	
		    	</code></pre>
		    </div>
		    <div role="tabpanel" class="tab-pane" id="geoServeLayerrResult">
		    	<pre><code class="json">
		    	
	[{
		"result":"OK",
		"message":null,
		"data":{"row":
			[
			"seoul_sig", "busan_emd", "busan_sig", 
			"chungcheongbuk_emd", "chungcheongbuk_sig", "daegu_emd", 
			"daegu_sig", "daejeon_emd", "daejeon_sig", 
			"gangwon_emd", "gangwon_sig", "gwangju_emd", 
			"gwangju_sig", "gyeongsangbuk_emd", "gyeongsangbuk_sig", 
			"gyeongsangnam_sig", "incheon_emd", "jeju_emd", 
			"gyeonggi_sig", "gyeongsangnam_emd", "incheon_sig", 
			"gyeonggi_emd", "jeju_sig", "jeonrabuk_emd", 
			"jeonrabuk_sig", "seoul_emd", "jeonranam_sig", 
			"sejong_sig", "ulsan_sig", "ulsan_emd", 
			"jeonranam_emd", "sejong_emd"
			]
		}
	}]
		    	</code></pre>
		    </div>
		  </div>
		</div>
	</div>
	<br>
	<div id="fourth">
		<h1>4. 공공데이터 요청 - 서울 열린데이터 광장(POST)</h1>
		<div role="tabpanel">
		  <!-- Nav tabs -->
		  <ul class="nav nav-tabs" role="tablist">
		    <li role="presentation" class="active"><a href="#seoulPostRequest" aria-controls="seoulPostRequest" role="tab" data-toggle="tab">요청 소스코드(POST)</a></li>
		    <li role="presentation"><a href="#seoulPostResult" aria-controls="seoulPostResult" role="tab" data-toggle="tab">실행 결과</a></li>
		  </ul>
		
		  <!-- Tab panes -->
		  <div class="tab-content">
		    <div role="tabpanel" class="tab-pane active" id="seoulPostRequest">
		    	<pre><code class="js">
	//서울 열린데이터 광장 실시간 환경 데이터 예제
	//데이터 종류를 추가할 경우 SeoulOpenDataServiceImp.java 내부 모듈 추가
	var apiKey = '6473565a72696e7438326262524174';
	var serviceName = 'TimeAverageAirQuality';
	var envType = 'PM10';
	var dateTimeValue = '201601010100';
	
	var jsonData = {};
	jsonData.serviceKey = apiKey;
	jsonData.returnType = 'json';
	jsonData.serviceName = 'TimeAverageAirQuality';
	jsonData.amount = '1/100';
	jsonData.dateTimeValue = dateTimeValue;
	jsonData.envType = envType;
	
	//요청 JSON 데이터 생성 결과 예 
	var addr = './api/seoulOpenData.do';	
	$.ajax({
	    type : 'POST',
	    url : addr,
	    data : JSON.stringify(jsonData),
	    contentType : "application/json;charset=UTF-8",
	    dataType : 'json',
	    success : function (res) {
	    	...
	    },
	    error : function (error) {
	    	...
	    }
	});
        
		    	</code></pre>
		    </div>
		    <div role="tabpanel" class="tab-pane" id="seoulPostResult">
		    	<pre><code class="json">
	{
	"message": null
	"result": "OK"
	"data": {"row":
		[{"PM10":100,"MSRSTE_NM":"강남구"},{"PM10":82,"MSRSTE_NM":"강동구"},
		 {"PM10":79,"MSRSTE_NM":"강북구"},{"PM10":100,"MSRSTE_NM":"강서구"},
		 {"PM10":103,"MSRSTE_NM":"관악구"},{"PM10":98,"MSRSTE_NM":"광진구"},
		 {"PM10":87,"MSRSTE_NM":"구로구"},{"PM10":96,"MSRSTE_NM":"금천구"},
		 {"PM10":76,"MSRSTE_NM":"노원구"},{"PM10":71,"MSRSTE_NM":"도봉구"},
		 {"PM10":99,"MSRSTE_NM":"동대문구"},{"PM10":77,"MSRSTE_NM":"동작구"},
		 {"PM10":78,"MSRSTE_NM":"마포구"},{"PM10":83,"MSRSTE_NM":"서대문구"},
		 {"PM10":106,"MSRSTE_NM":"서초구"},{"PM10":102,"MSRSTE_NM":"성동구"},
		 {"PM10":81,"MSRSTE_NM":"성북구"},{"PM10":86,"MSRSTE_NM":"송파구"},
		 {"PM10":119,"MSRSTE_NM":"양천구"},{"PM10":110,"MSRSTE_NM":"영등포구"},
		 {"PM10":71,"MSRSTE_NM":"용산구"},{"PM10":65,"MSRSTE_NM":"은평구"},
		 {"PM10":84,"MSRSTE_NM":"종로구"},{"PM10":77,"MSRSTE_NM":"중구"},
		 {"PM10":80,"MSRSTE_NM":"중랑구"}
		 ]}
	}
		    	
		    	</code></pre>
		    </div>
		  </div>
		</div>
	</div>
	<br>
	<div id="ffifth">
		<h1>5. 공공데이터 요청 - 공공데이터 포털(POST)</h1>
		<div role="tabpanel">
		  <!-- Nav tabs -->
		  <ul class="nav nav-tabs" role="tablist">
		    <li role="presentation" class="active"><a href="#publicDataPostRequest" aria-controls="publicDataPostRequest" role="tab" data-toggle="tab">요청 소스코드(POST)</a></li>
		    <li role="presentation"><a href="#publicDataPostResult" aria-controls="publicDataPostResult" role="tab" data-toggle="tab">실행 결과</a></li>
		  </ul>
		
		  <!-- Tab panes -->
		  <div class="tab-content">
		    <div role="tabpanel" class="tab-pane active" id="publicDataPostRequest">
		    	<pre><code class="js">
	//공공데이터포털 실시간 환경 데이터 예제
	//공공데이터 종류를 추가할 경우 PublicDataPortalServiceImp.java 내부 모듈 추가
	var serviceKey = '...';
	var startDate = 'YK';
	var serviceName = 'NuclearPowerPlantRealtimeLevelofRadiation';
	//NuclearPowerPlantRealtimeLevelofRadiation, GreenGasEmissionReport, ArpltnInforInqireSvc
	
	//요청 JSON 데이터 생성 결과 예 
	//{"serviceName":"NuclearPowerPlantRealtimeLevelofRadiation","serviceKey":"kCxEhXiTf1qmDBlQFOOmw%2BemcPSxQXn5V5%2Fx8EthoHdbSojIdQvwX%2BHtWFyuJaIco0nUJtu12e%2F9acb7HeRRRA%3D%3D","startDate":"YK"}
	
    var jsonData = {};
    jsonData.serviceName = serviceName;
    jsonData.startDate = startDate;
    jsonData.serviceKey = serviceKey;

    $.ajax({
        type : 'POST',
        url : './api/PublicDataPortal.do',
        data : JSON.stringify(jsonData),
        contentType : "application/json;charset=UTF-8",
        dataType : 'json',
        success : function (jsonResult) {
        	...
        },
        error : function (error) {
        	...
        }
    });
		    	</code></pre>
		    </div>
		    <div role="tabpanel" class="tab-pane" id="publicDataPostResult">
		    	<pre><code class="json">
	{
	"result": "OK"
	"data": {"row":
		[{"expl":"ERMS-고리1발(MS-1)","time":"2016-06-21 17:18","name":"2100-MS001_STD.C","value":"0.119"},
		 {"expl":"ERMS-고리2발(MS-2)","time":"2016-06-21 17:18","name":"2100-MS002_STD.C","value":"0.100"},
		 {"expl":"ERMS-신고리1(MS-3)","time":"2016-06-21 17:18","name":"2100-MS003_STD.C","value":"0.103"},
		 {"expl":"ERMS-신고리2(MS-4)","time":"2016-06-21 17:18","name":"2100-MS004_STD.C","value":"0.115"},
		 {"expl":"ERMS-구전시관(MS-5)","time":"2016-06-21 17:18","name":"2100-MS005_STD.C","value":"0.094"},
		 {"expl":"ERMS-신효암(MS-6)","time":"2016-06-21 17:18","name":"2100-MS006_STD.C","value":"0.101"},
		 {"expl":"ERMS-신고리정문(MS-7)","time":"2016-06-21 17:18","name":"2100-MS007_STD.C","value":"0.102"},
		 {"expl":"ERMS-명산1(MS-8)","time":"2016-06-21 17:18","name":"2100-MS008_STD.C","value":"0.117"},
		 {"expl":"ERMS-명산2(MS-9)","time":"2016-06-21 17:18","name":"2100-MS009_STD.C","value":"0.111"},
		 {"expl":"ERMS-명산3(MS-10)","time":"2016-06-21 17:18","name":"2100-MS010_STD.C","value":"0.107"},
		 {"expl":"ERMS-신리(MS-11)","time":"2016-06-21 17:18","name":"2100-MS011_STD.C","value":"0.107"},
		 {"expl":"ERMS-스포츠센터(MS-12)","time":"2016-06-21 17:19","name":"2100-MS012_STD.C","value":"0.099"},
		 {"expl":"ERMS-월내(MS-13)","time":"2016-06-21 17:18","name":"2100-MS013_STD.C","value":"0.100"},
		 {"expl":"ERMS-사택3단지(MS-14)","time":"2016-06-21 17:18","name":"2100-MS014_STD.C","value":"0.087"},
		 {"expl":"ERMS-서생면사무소(MS-15)","time":"2016-06-21 17:18","name":"2100-MS015_STD.C","value":"0.108"},
		 {"expl":"ERMS-부산대학교(MS-16)","time":"2016-06-21 17:19","name":"2100-MS016_STD.C","value":"0.108"},
		 {"expl":"ERMS-후문서쪽(MS-1)","time":"2016-06-21 17:18","name":"2200-MS001_STD.C","value":"0.093"},
		 {"expl":"ERMS-후문동쪽(MS-2)","time":"2016-06-21 17:18","name":"2200-MS002_STD.C","value":"0.100"},
		 {"expl":"ERMS-2발정수장(MS-3)","time":"2016-06-21 17:18","name":"2200-MS003_STD.C","value":"0.090"},
		 {"expl":"ERMS-직원사택(MS-4)","time":"2016-06-21 17:18","name":"2200-MS004_STD.C","value":"0.099"},
		 {"expl":"ERMS-1발전소(MS-5)","time":"2016-06-21 17:18","name":"2200-MS005_STD.C","value":"0.101"},
		 {"expl":"ERMS-폐기물저장고(MS-6)","time":"2016-06-21 17:18","name":"2200-MS006_STD.C","value":"0.098"},
		 {"expl":"ERMS-야적장1(MS-7)","time":"2016-06-21 17:18","name":"2200-MS007_STD.C","value":"0.096"},
		 {"expl":"ERMS-상봉(MS-8)","time":"2016-06-21 17:18","name":"2200-MS008_STD.C","value":"0.092"},
		 {"expl":"ERMS-경주(MS-9)","time":"2016-06-21 17:18","name":"2200-MS009_STD.C","value":"0.101"},
		 {"expl":"ERMS-울산(MS-10)","time":"2016-06-21 17:18","name":"2200-MS010_STD.C","value":"0.105"},
		 {"expl":"ERMS-신월성(MS-11)","time":"2016-06-21 17:18","name":"2200-MS011_STD.C","value":"0.094"},
		 {"expl":"ERMS-2발전소(MS-12)","time":"2016-06-21 17:18","name":"2200-MS012_STD.C","value":"0.109"},
		 {"expl":"ERMS-본부정문(MS-1)","time":"2016-06-21 17:18","name":"2300-MS001_STD.C","value":"0.107"},
		 {"expl":"ERMS-배수로(MS-2)","time":"2016-06-21 17:18","name":"2300-MS002_STD.C","value":"0.105"},
		 {"expl":"ERMS-청경사택(MS-3)","time":"2016-06-21 17:18","name":"2300-MS003_STD.C","value":"0.100"},
		 {"expl":"ERMS-주사무실(MS-4)","time":"2016-06-21 17:18","name":"2300-MS004_STD.C","value":"0.107"},
		 {"expl":"ERMS-본부후문(MS-5)","time":"2016-06-21 17:18","name":"2300-MS005_STD.C","value":"0.100"},
		 {"expl":"ERMS-홍농서초교(MS-6)","time":"2016-06-21 17:18","name":"2300-MS006_STD.C","value":"0.100"},
		 {"expl":"ERMS-홍농사택(MS-7)","time":"2016-06-21 17:18","name":"2300-MS007_STD.C","value":"0.107"},
		 {"expl":"ERMS-법성(MS-8)","time":"2016-06-21 17:18","name":"2300-MS008_STD.C","value":"0.101"},
		 {"expl":"ERMS-한빛(MS-9)","time":"2016-06-21 17:18","name":"2300-MS009_STD.C","value":"0.124"},
		 {"expl":"ERMS-고창(MS-10)","time":"2016-06-21 17:18","name":"2300-MS010_STD.C","value":"0.121"},
		 {"expl":"ERMS-1,2발 사이(MS-1)","time":"2016-06-21 17:18","name":"2400-MS001_STD.C","value":"0.106"},
		 {"expl":"ERMS-신한울1(MS-2)","time":"2016-06-21 17:19","name":"2400-MS002_STD.C","value":"0.106"},
		 {"expl":"ERMS-신한울2(MS-3)","time":"2016-06-21 17:18","name":"2400-MS003_STD.C","value":"0.106"},
		 {"expl":"ERMS-기상관측소(MS-4)","time":"2016-06-21 17:18","name":"2400-MS004_STD.C","value":"0.111"},
		 {"expl":"ERMS-남서고지(MS-5)","time":"2016-06-21 17:18","name":"2400-MS005_STD.C","value":"0.109"},
		 {"expl":"ERMS-구기상관측소(MS-6)","time":"2016-06-21 17:18","name":"2400-MS006_STD.C","value":"0.108"},
		 {"expl":"ERMS-고목리(MS-7)","time":"2016-06-21 17:18","name":"2400-MS007_STD.C","value":"0.111"},
		 {"expl":"ERMS-신화리(MS-8)","time":"2016-06-21 17:18","name":"2400-MS008_STD.C","value":"0.109"},
		 {"expl":"ERMS-부구교량(MS-9)","time":"2016-06-21 17:18","name":"2400-MS009_STD.C","value":"0.108"},
		 {"expl":"ERMS-한수원사택(MS-10)","time":"2016-06-21 17:18","name":"2400-MS010_STD.C","value":"0.117"},
		 {"expl":"ERMS-죽변초교(MS-11)","time":"2016-06-21 17:18","name":"2400-MS011_STD.C","value":"0.107"},
		 {"expl":"ERMS-매화초교(MS-12)","time":"2016-06-21 17:19","name":"2400-MS012_STD.C","value":"0.106"},
		 {"expl":"ERMS-궁촌초교(MS-13)","time":"2016-06-21 17:18","name":"2400-MS013_STD.C","value":"0.110"}
		 ]}
	}	
		    	</code></pre>
		    </div>
		  </div>
		</div>
	</div>
	<br>
	<div id="sixth">
		<h1>6. 실시간 속성정보 관리 - 실시간 속성정보 리스트(POST)</h1>
		<div role="tabpanel">
		  <!-- Nav tabs -->
		  <ul class="nav nav-tabs" role="tablist">
		    <li role="presentation" class="active"><a href="#realTimeAttrPostRequest" aria-controls="realTimeAttrPostRequest" role="tab" data-toggle="tab">요청 소스코드(GET)</a></li>
		    <li role="presentation"><a href="#realTimeAttrResult" aria-controls="realTimeAttrResult" role="tab" data-toggle="tab">실행 결과</a></li>
		  </ul>
		
		  <!-- Tab panes -->
		  <div class="tab-content">
		    <div role="tabpanel" class="tab-pane active" id="realTimeAttrPostRequest">
		    	<pre><code class="js">
	
    var jsonData = {};
    jsonData.column = 'SUBJECT';
    /* realtimeInfoSearch에서는 아이디 중복 검사도 가능
     * ID 가 존재하는지 확인
     * jsonData.column = 'USER_ID';
     * jsonData.userid = '검색할 아이디';
     */
     
	//요청 JSON 데이터 생성 결과 예 
	//{"column":"USER_ID","userid":"testID"}
     
    $.ajax({
        type : 'POST',
        url : './api/realtimeInfoSearch.do',
        data : JSON.stringify(jsonData),
        contentType : "application/json;charset=UTF-8",
        dataType : 'json',
        success : function (jsonResult) {
        	...
        },
        error : function (error) {
        	...
        }
    });
		    	
		    	</code></pre>
		    </div>
		    <div role="tabpanel" class="tab-pane" id="realTimeAttrResult">
		    	<pre><code class="json">
//없을 경우 true 값 반환, 있을 경우 false 값 반환
	{"message": null "result": "OK" "data": true}
		    	
		    	</code></pre>
		    </div>
		  </div>
		</div>
	</div>
</body>
</html>